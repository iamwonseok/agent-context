# Agent-Context Development Repository

This IS the agent-context source repository.
You CAN modify: `skills/`, `workflows/`, `tools/`, `docs/`.

For project structure, see [README.md](README.md).
For design philosophy (Thin Skill / Thick Workflow), see [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md).

---

## Rationale

- Prefer retrieval-led reasoning over pre-training-led reasoning.
- Keep this file short and high-signal (map, not a full doc dump).
- Avoid decision points by pointing to authoritative paths and workflow-first guidance.

## .cursorrules Policy

- English only. No emoji or decorative Unicode.
- Keep rules minimal and non-overlapping; link to `docs/` for details.
- Update rules only when repeated failures are observed.

---

## Coding Conventions

Follow the convention for each file type:

| File Type | Convention |
|-----------|------------|
| `*.sh` (Bash) | [docs/convention/bash.md](docs/convention/bash.md) |
| `*.py` (Python) | [docs/convention/python.md](docs/convention/python.md) |
| `*.yml`, `*.yaml`, CI, Docker Compose | [docs/convention/yaml.md](docs/convention/yaml.md) |
| `Makefile`, `*.mk` | [docs/convention/make.md](docs/convention/make.md) |
| `*.c`, `*.h` | [docs/convention/c.md](docs/convention/c.md) |
| `*.cpp`, `*.hpp` | Out of scope - see [docs/convention/cpp.md](docs/convention/cpp.md) |
| RFC (`docs/rfc/*.md`) | [docs/convention/rfc.md](docs/convention/rfc.md) |

---

## Language Policy

| File Type | Language | Emoji | Unicode |
|-----------|----------|:-----:|:-------:|
| Executable (`*.sh`, `*.py`) | English only | Forbidden | Forbidden |
| Code comments | English only | Forbidden | Forbidden |
| Git commit messages | English only | Forbidden | Forbidden |
| GitHub/GitLab Issue titles | English only | Forbidden | Forbidden |
| GitHub/GitLab Issue body | Korean/English | Forbidden | Restricted |
| Markdown (`*.md`) | Korean-first (except `skills/`, `workflows/`) | Forbidden | Restricted |

**Unicode in Markdown:**
- Allowed: `->`, `-->`, `|`, `+`, `-`, standard markdown tables
- Forbidden: Emoji, checkmark symbols, star symbols

---

## Output Style

- Log format: `[OK]` pass, `[NG]` fail, `[!!]` warn, `[>>]` info
- No decorative Unicode in output

---

## Agent Behavior

### Session Start
1. Check `git status` and `git branch`
2. Ensure on feature branch (NOT main)
3. If on main, create/checkout feature branch before work

### Before Starting Work

Read the appropriate workflow file:
- New feature: `workflows/solo/feature.md`
- Bug fix: `workflows/solo/bugfix.md`
- Hotfix: `workflows/solo/hotfix.md`

### After Modifying Files
1. Check if related files need updates (docs, README, etc.)
2. Run quality checks: `pre-commit run --all-files`
3. Fix any failures before committing

### Before Committing
1. Review changes: `git diff --staged`
2. Commit message convention:
   - `feat:` new feature
   - `fix:` bug fix
   - `refactor:` code refactoring
   - `docs:` documentation changes
   - `test:` test changes

### Before Finishing
1. Push changes: `git push origin <branch>`
2. Create PR/MR (don't merge directly to main)

---

## Batch Operations

When the same operation repeats 3+ times, STOP and batch it.

| Task Type | Strategy |
|-----------|----------|
| Find files with pattern | Use grep/find ONCE |
| Replace in multiple files | Group by pattern type |
| Verify changes | Single test run at the end |
| Read multiple files | Parallel reads |
